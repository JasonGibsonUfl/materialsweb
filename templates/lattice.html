{% extends 'home.html' %}
{% load static %}
{% block apps %}
  <h2>Upload</h2>
  <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <p>POSCAR_sub</p>
      <input type="file" name="user_input_1" id="user_input_1">
      <p>POSCAR_twod</p>
      <input type="file" name="user_input_2" id="user_input_2">
      <p>Area (Angstrom)</p>
      <input type="text" name="user_area" value="20" id="user_area">
      <p>Strain (%)</p>
      <input type="text" name="user_strain" value="10" id="user_strain">
      <button type="submit">Submit</button>
  </form>
    <script type="text/javascript" src="{% static 'javascript/3Dmol/jquery.js' %}"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="{% static 'parallax.js' %}"></script>
    <div id="3Dmolborderdiv" style="width: 402px; height: 402px;
    position: absolute; border: 1px solid black;
    border-radius: 3px; left: 52px; top: 145px;">
    </div>
    <div id="3Dmoldiv" style="width: 400px; height: 400px; position: relative;
        left: 46px; top: -125px;">
    </div>
    <script>
      (function() {
        var viewer = $3Dmol.createViewer($("#3Dmoldiv"));
        var data = "{{  structure_1  }}";
        viewer.setBackgroundColor(0xffffff);
        viewer.addModel(data, "xyz");
        viewer.setStyle({}, {sphere:{}, line:{}});
        viewer.zoomTo();
        viewer.render();
      })();
    </script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-85193239-1', 'auto');
      ga('send', 'pageview');

    </script>

<p>{{  structure_1  }}</p>
{% endblock %}
